diff --git a/src/gallium/targets/egl-static/Makefile.am b/src/gallium/targets/egl-static/Makefile.am
index f4990ad..224ed95 100644
--- a/src/gallium/targets/egl-static/Makefile.am
+++ b/src/gallium/targets/egl-static/Makefile.am
@@ -66,7 +66,6 @@ egl_gallium_la_SOURCES = \
 	egl_st.c
 
 egl_gallium_la_LIBADD = \
-	$(top_builddir)/src/loader/libloader.la \
 	$(top_builddir)/src/gallium/auxiliary/libgallium.la \
 	$(top_builddir)/src/gallium/drivers/identity/libidentity.la \
 	$(top_builddir)/src/gallium/drivers/trace/libtrace.la \
@@ -100,6 +99,9 @@ AM_CPPFLAGS += $(LIBDRM_CFLAGS)
 egl_gallium_la_LIBADD += \
 	$(top_builddir)/src/gbm/libgbm.la \
 	$(LIBDRM_LIBS)
+else
+egl_gallium_la_LIBADD += \
+	$(top_builddir)/src/loader/libloader.la
 endif
 
 if HAVE_EGL_PLATFORM_FBDEV
